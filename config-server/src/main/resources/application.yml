server:
  port: 8888

spring:
  application:
    name: config-server
  profiles:
    active: awsparamstore

  cloud:
    # AWS Configuration
    aws:
      region:
        static: sa-east-1
      credentials:
        access-key: guest
        secret-key: guest
      endpoint: http://localhost:4566

    # Config Server - AWS Parameter Store
    config:
      server:
        awsparamstore:
          enabled: true
          origin: "aws:parameter:"
          prefix: /config
          profile-separator: "/"
          default-label: main
          endpoint: http://localhost:4566
          region: sa-east-1

    # Spring Cloud Bus
    bus:
      enabled: true
      id: ${spring.application.name}:${server.port}
      refresh:
        enabled: true
      env:
        enabled: true

    # Spring Cloud Stream
    stream:
      default-binder: kafka
      kafka:
        binder:
          brokers: localhost:9092
      bindings:
        springCloudBus-out-0:
          destination: springCloudBus
        springCloudBus-in-0:
          destination: springCloudBus
          group: ${spring.application.name}
        toggleUpdated-out-0:
          destination: toggle-updated-topic

  kafka:
    bootstrap-servers: localhost:9092

# Management Endpoints
management:
  endpoints:
    web:
      exposure:
        include: health,info,env,refresh,busrefresh
  endpoint:
    health:
      show-details: always
